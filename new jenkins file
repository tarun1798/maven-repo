pipeline {
agent { label 'slave_1'}
tools{
        maven 'maven-test'
}
stages {
stage ( 'checkout scm' ) 
{ 
    steps 
    { Checkout_SCM}
}
stage ( 'maven build' ) 
{ 
    steps 
    { sh 'mvn clean package'}
}
stage ( 'tom cat deploy' ) 
{ 
    steps 
    { 
sshagent(['Tom_cat_server']) {
              sh "scp -o StrictHostKeyChecking=no  target/maven-web-application.war  ec2-user@43.205.242.115:/opt/tomcat9/webapps"
}
    }
}
}
}
